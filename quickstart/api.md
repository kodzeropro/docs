# Обзор API

::: tip :pushpin: Краткий обзор
В данном разделе вы сможете быстро ознакомиться о основными принципами Kodzero API. Для полного описания обратитесь к разделу [REST API](/api/)
:::

Kodzero автоматически генерирует REST API для каждой коллекции. Все запросы выполняются к базовому URL:

```
https://api.kodzero.pro/v1/:project/:collection
```

Где:
- `:project` — идентификатор вашего проекта
- `:collection` — идентификатор коллекции

Получить URL для коллекции можно во вкладке «Настройки API».

## Методы для работы с коллекциями
### View all

<CrossLink section="REST API" page="View All" full-url='/docs/api/view-all' />

Получение списка всех записей с поддержкой поиска, фильтрации и пагинации.

```http
GET /v1/:project/:collection
```

**Query-параметры:**

| Параметр | Тип | Описание |
|----------|-----|----------|
| `search` | string | Поиск по текстовым полям |
| `page` | number | Номер страницы (по умолчанию: 1) |
| `perPage` | number | Записей на странице (по умолчанию: 25) |

**Пример запроса:**

```http
GET https://api.kodzero.pro/v1/12345/100069?search=phone&perPage=10
```

---

### View

<CrossLink section="REST API" page="View" full-url='/docs/api/view' />

Получение одной записи по ID.

```http
GET /v1/:project/:collection/:id
```

**Пример запроса:**

```http
GET https://api.kodzero.pro/v1/12345/100069/694d2de72f69bc65a83c42ce
```

---

### Create

<CrossLink section="REST API" page="Create" full-url='/docs/api/create' />

Создание новой записи.

```http
POST /v1/:project/:collection
```

**Пример запроса:**

```http
POST https://api.kodzero.pro/v1/12345/100069
Content-Type: application/json

{
  "title": "iPhone",
  "price": 999
}
```

::: info Валидация
Данные в теле запроса проходят валидацию в соответствии с настройками [схемы коллекции](/collections/schema) (типы полей, обязательность, ограничения).
:::

---

### Update

<CrossLink section="REST API" page="Update" full-url='/docs/api/update' />

Изменение существующей записи по ID.

```http
PATCH /v1/:project/:collection/:id
```

**Пример запроса:**

```http
PATCH https://api.kodzero.pro/v1/12345/100069/694d2de72f69bc65a83c42ce
Content-Type: application/json

{
  "price": 899
}
```

::: info Валидация
Передаваемые поля проходят валидацию в соответствии с настройками [схемы коллекции](/collections/schema). Можно обновлять только часть полей.
:::

---

### Delete

<CrossLink section="REST API" page="Delete" full-url='/docs/api/delete' />

Удаление записи по ID.

```http
DELETE /v1/:project/:collection/:id
```

**Пример запроса:**

```http
DELETE https://api.kodzero.pro/v1/12345/100069/694d2de72f69bc65a83c42ce
```

## Методы в разработке

Следующие методы находятся в стадии разработки или тестирования, но скоро станут доступны.

### Distinct

Получение уникальных значений указанного поля. Полезно для построения фильтров (например, список всех категорий или брендов).

### Экспорт в CSV/XLSX

Экспорт данных коллекции в файлы CSV или XLSX для аналитики или резервного копирования.

### Batch-операции

Массовые операции: создание, обновление или удаление нескольких записей одним запросом.

::: tip :rocket: Нужен один из этих методов?
Если ваш проект требует функциональности из этого раздела — напишите в поддержку (<SupportEmail />), и мы постараемся приоритизировать разработку.
:::

## Уровни доступа

Для каждого метода можно настроить уровень доступа:

| Уровень | Описание |
|---------|----------|
| **Public** | Запросы без авторизации. Подходит для публичных данных (каталоги, статьи) |
| **User** | Пользователь видит и изменяет только **свои** записи |
| **Workspace** | Пользователь работает с записями в рамках **общего пространства**, к которому принадлежит |

::: danger :warning: Важно!
Для публичных данных используйте `Public` только на методах `VIEW ALL` и `VIEW`. Методы `CREATE`, `UPDATE`, `DELETE` лучше защитить уровнем `User` или `Workspace`.
:::

<!-- ## Что дальше? -->
<!-- 
- [Аутентификация](../auth/) — как авторизовать запросы
- [Работа с коллекциями](../collections/) — настройка схемы и полей -->