# Настройки API

Настройки API определяют, кто и как может работать с данными коллекции через REST API.

## Доступ к настройкам

1. Откройте коллекцию
2. Перейдите во вкладку **«Настройки API»**

## Уровни доступа

Для каждого метода можно настроить уровень доступа:

| Уровень | Описание |
|---------|----------|
| **Public** | Запросы без авторизации. Подходит для публичных данных |
| **User** | Пользователь видит и изменяет только **свои** записи |
| **Workspace** | Пользователь работает с записями в рамках **общего пространства** совместно с другими пользователями этого пространства |

::: danger Важно!
Неправильная настройка доступа может привести к утечке данных или несанкционированному изменению записей. Никогда не используйте `Public` на методах `Create`, `Update`, `Delete` для данных, которые не должны быть доступны всем.
:::

## Методы API

Каждый метод можно включить или отключить независимо:

| Метод | Описание | HTTP |
|-------|----------|------|
| **View All** | Получение списка записей | `GET /` |
| **View** | Получение одной записи | `GET /:id` |
| **Create** | Создание записи | `POST /` |
| **Update** | Обновление записи | `PATCH /:id` |
| **Delete** | Удаление записи | `DELETE /:id` |

### Настройка метода

Для каждого метода можно задать:

1. **Включён/Выключен** — доступен ли метод
2. **Доступность** — уровень доступа (Как у коллекции, Public, User, Workspace)

## Путь API

В настройках отображается полный URL для доступа к коллекции:

```
https://api.kodzero.pro/v1/:project/:collection
```

Скопируйте его для использования в вашем приложении.

## Примеры конфигураций

### Публичный каталог (только чтение)

Подходит для каталогов товаров, статей, новостей — данных, которые должны быть доступны всем без авторизации.

**Пример:** интернет-магазин публикует список товаров. Любой посетитель сайта может просматривать каталог, но добавлять или изменять товары могут только администраторы через панель управления.

| Метод | Статус | Доступность |
|-------|--------|-------------|
| View All | ✅ | Public |
| View | ✅ | Public |
| Create | ❌ | — |
| Update | ❌ | — |
| Delete | ❌ | — |

### Личные данные пользователя

Подходит для персональных данных: заметки, избранное, настройки профиля — всё, что принадлежит конкретному пользователю.

**Пример:** приложение для заметок. Пользователь Анна создаёт свои заметки и видит только их. Пользователь Борис работает со своими заметками отдельно. Они не видят данные друг друга.

| Метод | Статус | Доступность |
|-------|--------|-------------|
| View All | ✅ | User |
| View | ✅ | User |
| Create | ✅ | User |
| Update | ✅ | User |
| Delete | ✅ | User |

### Общие данные команды (Workspace)

Подходит для командной работы: проекты, задачи, документы — данные, к которым нужен общий доступ для группы пользователей.

**Пример:** вы создали SaaS таск-трекер на Kodzero. К вашему приложению подключились две компании:
- **Стартап «Гамма»** (Анна, Дмитрий) — создают задачи и видят задачи друг друга
- **Стартап «Дельта»** (Иван, Сергей, Елена) — работают со своими задачами в своём пространстве

Команды полностью изолированы: «Гамма» не видит задачи «Дельты», и наоборот. При этом внутри каждой команды все участники имеют доступ к общим данным.

| Метод | Статус | Доступность |
|-------|--------|-------------|
| View All | ✅ | Workspace |
| View | ✅ | Workspace |
| Create | ✅ | Workspace |
| Update | ✅ | Workspace |
| Delete | ✅ | Workspace |
